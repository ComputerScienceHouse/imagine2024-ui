# Bits n' Bytes UI Kivy Definitions
# Author: Wilson McDade
###########################


###########################
#
#   Define Screens:
#
###########################

ScreenManager:
    id: sm

    StartScreen:
        md_bg_color: app.theme_cls.backgroundColor
        name: 'Start'

        RelativeLayout:
            # Still working on this, lets leave it out for now

            ImageButton:
                source: 'images/tapIcon.png'
                text: 'Tap card to start'
                x: 400

            # How can we make this bigger?
            MDIconButton:
                pos_hint: {'center_x': 0.9, 'center_y': 0.9}
                icon: 'information-outline'
                style: 'filled'
                on_press:
                    root.transition.direction = 'up'
                    root.current = 'Info'

            Image:
                source: 'images/logo.png'

            ### Remove this once NFC works :tm:
            MDButton:
                pos_hint: {'center_x': 0.5, 'center_y': 0.2}
                style: 'filled'
                on_press:
                    # Change transition direction
                    root.transition.direction = 'left'
                    # Set current screen to Cart
                    root.current = 'Cart'
                
                MDButtonText:
                    text:'Go to Cart'

    CartScreen:
        md_bg_color: app.theme_cls.backgroundColor
        name: 'Cart'

        # This should be a scrollview pls make this a scrollview
        BoxLayout:
            orientation: 'vertical'
            width: 2*root.width/3

            CartItem:
                title: 'Jolt Soda'
                source: 'images/oof.png'
                price: '3.00'
                quantity: '3'

            CartItem:
                title: 'Jolt Soda'
                source: 'images/oof.png'
                price: '3.00'
                quantity: '3'

            CartItem:
                title: 'Jolt Soda'
                source: 'images/oof.png'
                price: '3.00'
                quantity: '3'

            CartItem:
                title: 'Jolt Soda'
                source: 'images/oof.png'
                price: '3.00'
                quantity: '3'

        ### Do not leave this in
        MDButton:
            pos_hint: {'center_x': 0.5, 'center_y': 0.2}
            style: 'filled'
            on_press:
                root.transition.direction = 'right'
                root.current = 'Start'

            MDButtonText:
                text:'Go to Start'

    InfoScreen:
        md_bg_color: app.theme_cls.backgroundColor
        name: 'Info'


        GridLayout:
            cols:2
            rows:1

            FloatLayout:
                MDLabel:
                    text:"Navigation"
                    pos_hint: {'x': 0.075, 'y': 0.35}

                BoxLayout:
                    id: navigation
                    orientation: 'vertical'
                    size_hint: 0.20, 0.20
                    pos_hint: {'x': 0.05, 'y': 0.5}

                    MDButton:
                        style: "text"
                        MDButtonText:
                            text:"About the Project"

                    MDButton:
                        style: "text"
                        MDButtonText:
                            text:"FAQ"

                    MDButton:
                        style: "text"
                        MDButtonText:
                            text:"About CSH"

                    MDButton:
                        style: "text"
                        MDButtonText:
                            text:"Team Credits"
                
                    MDButton:
                        style: 'filled'
                        on_press:
                            root.transition.direction = 'down'
                            root.current = 'Start'
                        
                        MDButtonText:
                            text:'Back to Start'


                ScrollView:
                    pos: (navigation.width, 0)
                    size_hint: (None, None)
                    size: ((root.width-navigation.width), 0.9*root.height)
                    GridLayout:
                        id: output
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height

                        MDCard:
                            orientation: 'vertical'
                            size_hint: None, None
                            size: 0.9*(root.width-navigation.width), '180dp'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            elevation: 10
                            padding: '8dp'
                            
                            MDBoxLayout:
                                size_hint_y: None
                                height: '100dp'
                                adaptive_height: True
                                adaptive_width: True
                            
                                MDLabel:
                                    text: 'About the Project: Bits nâ€™ Bytes'
                                    theme_text_color: 'Secondary'
                                    size_hint_y: None
                                    pos_hint: {'top': 1, 'x': 0}
                                    height: self.texture_size[1]
                            
                            MDLabel:
                                text: "Lorem ipsum dolor sit amet consectetur. Volutpat et viverra augue quisque ornare a egestas diam eleifend. Amet vel molestie sit orci elementum turpis aliquet. Odio tempus et pellentesque a lacus. Mattis a amet a pretium. Aliquet cras dolor tellus est ac aenean eget amet elementum. Cursus et ut pellentesque nibh. Dignissim sed in vulputate leo aliquet malesuada. Consequat quam mattis ullamcorper tristique quis lobortis dui turpis blandit. Dictum facilisis in felis commodo egestas nulla. Mauris turpis lorem id blandit sagittis eu sed. Ipsum interdum fermentum quis sed eget lectus ultrices donec."
                                theme_text_color: 'Secondary'
                                size_hint_y: None
                                height: self.texture_size[1] 

                        MDCard:
                            orientation: 'vertical'
                            size_hint: None, None
                            size: 0.9*(root.width-navigation.width), '180dp'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            elevation: 10
                            padding: '8dp'
                            
                            MDBoxLayout:
                                size_hint_y: None
                                height: '48dp'
                                adaptive_height: True
                                adaptive_width: True
                                
                                MDLabel:
                                    text: 'Card Title'
                                    theme_text_color: 'Secondary'
                                    size_hint_y: None
                                    height: self.texture_size[1]
                            
                            MDLabel:
                                text: "Here's some content text for the card. You can put any widget here as content."
                                theme_text_color: 'Secondary'
                                size_hint_y: None
                                height: self.texture_size[1] 

                        MDCard:
                            orientation: 'vertical'
                            size_hint: None, None
                            size: 0.9*(root.width-navigation.width), '180dp'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            elevation: 10
                            padding: '8dp'
                            
                            MDBoxLayout:
                                size_hint_y: None
                                height: '48dp'
                                adaptive_height: True
                                
                                MDLabel:
                                    text: 'Card Title'
                                    theme_text_color: 'Secondary'
                                    size_hint_y: None
                                    height: self.texture_size[1]
                            
                            MDLabel:
                                text: "Here's some content text for the card. You can put any widget here as content."
                                theme_text_color: 'Secondary'
                                size_hint_y: None
                                height: self.texture_size[1] 

                        
                        MDCard:
                            orientation: 'horizontal'
                            size_hint: None, None
                            size: 0.9*(root.width-navigation.width), '180dp'
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            elevation: 10
                            padding: '8dp'

                            MemberCard:
                                name: 'Wilson'
                                job_title: 'Cool Guy'
                                major: 'CS'

                            MemberCard:     
                                name: 'Sahil'
                                job_title: 'Cool Guy'
                                major: 'CS'

                            MemberCard:
                                name: 'Jason'
                                job_title: 'Cool Guy'
                                major: 'CS'

                            MemberCard:
                                name: 'Isaac'
                                job_title: 'Cool Guy'
                                major: 'CS'

    AttractScreen:
        name: 'Attract'


###########################
#
#   Define Custom Widgets:
#
###########################

<ImageButton>:
    size_hint: (0.611, 0.107)
    canvas:
        Color:
            rgb: 0.42, 0.0, 0.39
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [(20, 20), (20, 20), (20, 20), (20, 20)]

    Image:
        x: self.parent.x + 300
        y: self.parent.y + 8
        source: root.source

    Label:
        size: 400, 100
        text: root.text
        text_size: self.size
        x: self.parent.x + 420
        y: self.parent.y + 5
        font_size: '26.365sp'
        font_name: 'Roboto'
        x: self.parent.x + (self.parent.width / 2) - (self.width / 2)
        y: self.parent.y + (self.parent.height / 2) - (self.height / 3)

<CartItem>
    size: "144dp", "170dp"

    Image:
        source: root.source

    MDLabel:
        text: root.title

    MDLabel:
        text: root.price

    MDLabel:
        font_style: 'Display'
        text: root.quantity

<MemberCard>
    orientation: 'vertical'
    size_hint: None, None
    size: "144dp", "170dp"
        
    MDLabel:
        font_style: "Display"
        role: "small"
        text: root.name
        color: "black"
        halign: "center"
        padding: "2dp", "2dp"

    MDLabel:
        font_style: "Title"
        role: "small"
        text: root.job_title
        color: "black"
        halign: "center"
        padding: "4dp", "4dp"

    MDLabel:
        font_style: "Title"
        role: "medium"
        text: root.major
        color: "black"
        halign: "center"
        padding: "4dp", "4dp"